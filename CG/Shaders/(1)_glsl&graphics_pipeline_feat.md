GLSL: OpenGL 着色器语言，类似于C语言

### Primitives clipping 裁剪
网格的三角形可以与屏幕边界相交，并且只能部分显示。
裁剪是截断和消除图形原语部分以使其完全包含在屏幕上的过程。
裁剪通常在投影变换之后，但在归一化(除以w)之前进行。由于这个原因，执行它的空间称为裁剪坐标(Clipping Coordinates)

在3D中，裁剪是针对视锥体(the viewing frustum)执行的。

**Clipping: half spaces**

The quation of a plane: $n_xx+n_yy+n_zz+d=0$
$n_x,n_y,n_z$代表plane中法向量的方向
$d$表示距原点的距离
这个方程把空间分成两个区域，称为半空间

如果我们用齐次坐标，就可以用向量$n=(n_x,n_y,n_z,d)$表示plane，点的齐次坐标为$p=(x,y,z,1)$,the plane equation就可以表示成这两个向量的标量积$n·p=0$。

$n·p>0$表示一半space,$n·p<0$表示另一半。
$d=n·p$

由于截锥体是一个凸体，所以它可以被定义为由它的六个面所划分的半空间的交集。
六个法向量$n_l=|1,0,0,1|,n_r=|-1,0,0,1|,n_b=|0,1,0,1|,n_t=|0,-1,0,1|,n_n=|0,0,1,0|,n_f=|0,0,-1,1|$

**clip point**
我们可以通过计算其(齐次)坐标与六个法向量的标量积来确定一个点是否在截体内。
特别地，如果所有的积都是正的，则该点在截锥体内。
因此，如果与到截锥体的至少一个法向量的乘积为负，则裁剪算法可以丢弃点p。

**clip triangles**
三角形的三个顶点为$p1,p2,p3$,对于一个法向量$n_v$,如果 $d1=n_v·p1>0,d2=n_v·p2>0,d3=n_v·p3>0$,三角形在截锥体内，如果全<0,在截锥体外。

如果有两个点在椎体外，比如说$p2,p3$,用$p2',p3'$代替，$p2',p3'$是$p1$与$p2,p3$连线和plane的交点。

如果有一个点在椎体外，比如$p3$,用$p3'$或者$p3''$代替都可以，$p3',p3''$是$p1,p2$与$p3$连线和plane的交点。

### Back face culling 背面剔除
怎么判断背面：如果正面是顺时针，那么反面就是逆时针的。

### Depth testing (z buffer)
### Stencil

